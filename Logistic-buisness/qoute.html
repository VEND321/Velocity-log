<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get instant shipping quotes from VelocityLog. Calculate costs for your shipments with our easy-to-use quote calculator.">
    <title>Get Quote | VelocityLog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
    <style>
        /* Quote Page Specific Styles */
        .quote-section {
            padding: 8rem 0;
            min-height: 100vh;
            background: var(--light-gray);
        }
        
        body.dark-mode .quote-section {
            background: #1a1a1a;
        }
        
        .quote-container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--secondary);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 3rem;
            width: 90%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }
        
        body.dark-mode .quote-container {
            background: #1e1e1e;
        }
        
        .quote-header {
            text-align: center;
            margin-bottom: 2.5rem;
            grid-column: 1 / -1;
        }
        
        .quote-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .quote-header p {
            color: #666;
        }
        
        body.dark-mode .quote-header p {
            color: #aaa;
        }
        
        .quote-form h3 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        body.dark-mode .form-group label {
            color: #e0e0e0;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.9rem 1.2rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background: var(--secondary);
            color: var(--primary);
        }
        
        body.dark-mode .form-group input,
        body.dark-mode .form-group select {
            background: #2a2a2a;
            border-color: #444;
            color: #e0e0e0;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 62, 0, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .quote-result {
            background: var(--primary);
            color: var(--secondary);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .quote-result h3 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
        }
        
        .price-display {
            font-size: 3rem;
            font-weight: 700;
            margin: 1.5rem 0;
            color: var(--accent);
        }
        
        .quote-details {
            margin-top: 1.5rem;
        }
        
        .quote-details p {
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            font-size: 0.95rem;
        }
        
        .quote-details span {
            font-weight: 500;
        }
        
        .auth-prompt {
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            text-align: center;
        }
        
        .auth-prompt p {
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }
        
        .quote-summary {
            grid-column: 1 / -1;
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--light-gray);
            border-radius: 8px;
            display: none;
        }
        
        body.dark-mode .quote-summary {
            background: #2a2a2a;
        }
        
        .quote-summary.show {
            display: block;
        }
        
        .quote-summary h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        body.dark-mode .quote-summary h3 {
            color: #e0e0e0;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .summary-item {
            background: var(--secondary);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }
        
        body.dark-mode .summary-item {
            background: #1e1e1e;
        }
        
        .summary-item h4 {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        
        body.dark-mode .summary-item h4 {
            color: #aaa;
        }
        
        .summary-item p {
            font-weight: 600;
            color: var(--accent);
        }
        
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--primary);
            color: var(--secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            max-width: 300px;
        }
        
        body.dark-mode .notification {
            background: #2a2a2a;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: #4CAF50;
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .notification i {
            margin-right: 10px;
        }
        
        @media (max-width: 992px) {
            .quote-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .quote-section {
                padding: 6rem 0;
            }
            
            .quote-container {
                padding: 2rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .price-display {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="preloader-content">
            <div class="delivery-truck">
                <i class="fas fa-truck-fast"></i>
            </div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <div class="loading-text">LOADING QUOTE CALCULATOR</div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <a href="index.html" class="logo">
                    <i class="fas fa-boxes-packing"></i>
                    Velocity<span>Log</span>
                </a>
                <div class="flag">ðŸ‡³ðŸ‡¬</div>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
            
            <nav>
                <ul>
                    <li><a href="index.html" aria-label="Home">Home</a></li>
                    <li><a href="index.html#services" aria-label="Services">Services</a></li>
                    <li><a href="track.html" aria-label="Track Shipment">Tracking</a></li>
                    <li><a href="quote.html" aria-label="Get Quote">Pricing</a></li>
                    <li><a href="index.html" aria-label="About Us">About</a></li>
                    <li><a href="index.html" aria-label="Contact Us">Contact</a></li>
                </ul>
            </nav>
            
            <div class="nav-buttons">
                <a href="login.html" class="btn btn-outline" aria-label="Login to your account">Login</a>
                <a href="quote.html" class="btn" aria-label="Get a quote">Get Quote</a>
            </div>
            
            <div class="mobile-toggle" id="mobileToggle" aria-label="Toggle mobile menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav" role="navigation" aria-label="Mobile navigation">
        <div class="close-btn" id="closeNav" aria-label="Close mobile menu">
            <i class="fas fa-times"></i>
        </div>
        <a href="index.html" class="logo">
            <i class="fas fa-boxes-packing"></i>
            Velocity<span>Log</span>
        </a>
        <ul>
            <li><a href="index.html" aria-label="Home">Home</a></li>
            <li><a href="index.html#services" aria-label="Services">Services</a></li>
            <li><a href="track.html" aria-label="Track Shipment">Tracking</a></li>
            <li><a href="quote.html" aria-label="Get Quote">Pricing</a></li>
            <li><a href="index.html" aria-label="About Us">About</a></li>
            <li><a href="index.html" aria-label="Contact Us">Contact</a></li>
            <li><a href="login.html" aria-label="Login to your account">Login</a></li>
            <li><a href="quote.html" aria-label="Get a quote">Get Quote</a></li>
        </ul>
    </div>

    <!-- Quote Section -->
    <section class="quote-section" aria-label="Quote calculator">
        <div class="container">
            <div class="quote-container">
                <div class="quote-header">
                    <h2>Instant Quote Calculator</h2>
                    <p>Get an estimated shipping cost in seconds (Prices in â‚¦)</p>
                </div>
                
                <div class="quote-form">
                    <h3>Calculate Your Shipment</h3>
                    <form id="quoteForm">
                        <div class="form-group">
                            <label for="origin">Origin</label>
                            <select id="origin" required aria-required="true">
                                <option value="">Select origin country</option>
                                <option value="ng">Nigeria</option>
                                <option value="us">United States</option>
                                <option value="uk">United Kingdom</option>
                                <option value="cn">China</option>
                                <option value="gh">Ghana</option>
                                <option value="ke">Kenya</option>
                                <option value="za">South Africa</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="destination">Destination</label>
                            <select id="destination" required aria-required="true">
                                <option value="">Select destination country</option>
                                <option value="ng">Nigeria</option>
                                <option value="us">United States</option>
                                <option value="uk">United Kingdom</option>
                                <option value="cn">China</option>
                                <option value="gh">Ghana</option>
                                <option value="ke">Kenya</option>
                                <option value="za">South Africa</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="weight">Weight (kg)</label>
                                <input type="number" id="weight" min="0.1" step="0.1" placeholder="e.g. 50" required aria-required="true">
                            </div>
                            
                            <div class="form-group">
                                <label for="volume">Volume (mÂ³)</label>
                                <input type="number" id="volume" min="0.1" step="0.1" placeholder="e.g. 2.5" required aria-required="true">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="length">Length (cm)</label>
                                <input type="number" id="length" min="1" placeholder="e.g. 100">
                            </div>
                            
                            <div class="form-group">
                                <label for="width">Width (cm)</label>
                                <input type="number" id="width" min="1" placeholder="e.g. 80">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="height">Height (cm)</label>
                                <input type="number" id="height" min="1" placeholder="e.g. 60">
                            </div>
                            
                            <div class="form-group">
                                <label for="value">Declared Value (â‚¦)</label>
                                <input type="number" id="value" min="0" placeholder="e.g. 50000">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="service">Service Type</label>
                            <select id="service" required aria-required="true">
                                <option value="">Select service type</option>
                                <option value="economy">Economy (15-20 days)</option>
                                <option value="standard">Standard (10-15 days)</option>
                                <option value="express">Express (5-7 days)</option>
                                <option value="priority">Priority (2-3 days)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="cargo">Cargo Type</label>
                            <select id="cargo" required aria-required="true">
                                <option value="">Select cargo type</option>
                                <option value="general">General Goods</option>
                                <option value="fragile">Fragile Items</option>
                                <option value="perishable">Perishable Goods</option>
                                <option value="hazardous">Hazardous Materials</option>
                                <option value="oversized">Oversized Cargo</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn" style="width: 100%;">Calculate Quote</button>
                    </form>
                </div>
                
                <div class="quote-result">
                    <h3>Your Quote Estimate</h3>
                    <p>Fill out the form to get an instant estimate for your shipment.</p>
                    <div class="price-display" id="priceDisplay">â‚¦ -</div>
                    <div class="quote-details" id="quoteDetails">
                        <p>Origin: <span id="originDisplay">-</span></p>
                        <p>Destination: <span id="destDisplay">-</span></p>
                        <p>Weight: <span id="weightDisplay">- kg</span></p>
                        <p>Volume: <span id="volumeDisplay">- mÂ³</span></p>
                        <p>Service: <span id="serviceDisplay">-</span></p>
                    </div>
                    
                    <div class="auth-prompt" id="authPrompt">
                        <p>Sign up or login to save this quote and get additional benefits:</p>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <a href="signup.html" class="btn" style="flex: 1;">Sign Up</a>
                            <a href="login.html" class="btn btn-outline" style="flex: 1;">Login</a>
                        </div>
                    </div>
                </div>
                
                <div class="quote-summary" id="quoteSummary">
                    <h3>Quote Summary</h3>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <h4>Base Rate</h4>
                            <p id="baseRate">â‚¦0</p>
                        </div>
                        <div class="summary-item">
                            <h4>Weight Charge</h4>
                            <p id="weightCharge">â‚¦0</p>
                        </div>
                        <div class="summary-item">
                            <h4>Volume Charge</h4>
                            <p id="volumeCharge">â‚¦0</p>
                        </div>
                        <div class="summary-item">
                            <h4>Service Surcharge</h4>
                            <p id="serviceSurcharge">â‚¦0</p>
                        </div>
                        <div class="summary-item">
                            <h4>Cargo Surcharge</h4>
                            <p id="cargoSurcharge">â‚¦0</p>
                        </div>
                        <div class="summary-item">
                            <h4>Insurance</h4>
                            <p id="insuranceCharge">â‚¦0</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer aria-label="Footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <a href="index.html" class="logo">
                        <i class="fas fa-boxes-packing"></i>
                        Velocity<span>Log</span>
                    </a>
                    <p>Delivering innovative logistics solutions worldwide with speed, precision, and reliability.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html" aria-label="Home">Home</a></li>
                        <li><a href="index.html#services" aria-label="Services">Services</a></li>
                        <li><a href="track.html" aria-label="Track Shipment">Track Shipment</a></li>
                        <li><a href="quote.html" aria-label="Get Quote">Get Quote</a></li>
                        <li><a href="#" aria-label="Careers">Careers</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Our Services</h3>
                    <ul>
                        <li><a href="#" aria-label="Ocean Freight">Ocean Freight</a></li>
                        <li><a href="#" aria-label="Air Cargo">Air Cargo</a></li>
                        <li><a href="#" aria-label="Ground Transport">Ground Transport</a></li>
                        <li><a href="#" aria-label="Warehousing">Warehousing</a></li>
                        <li><a href="#" aria-label="Supply Chain">Supply Chain</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Nigerian Offices</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Lagos HQ: 123 Victoria Island</li>
                        <li><i class="fas fa-map-marker-alt"></i> Abuja Office: 45 Central District</li>
                        <li><i class="fas fa-phone"></i> +234 (0) 812 345 6789</li>
                        <li><i class="fas fa-envelope"></i> info@velocitylog.ng</li>
                        <li><i class="fas fa-clock"></i> Mon-Fri: 8AM - 6PM WAT</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 VelocityLog. All rights reserved. | Designed by Vend Agency</p>
            </div>
        </div>
    </footer>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>

    <script>
        // Preloader functionality
        window.addEventListener('load', function() {
            const preloader = document.getElementById('preloader');
            setTimeout(function() {
                preloader.style.opacity = '0';
                preloader.style.visibility = 'hidden';
            }, 2000);
        });

        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        }
        
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
                localStorage.setItem('theme', 'light');
            }
        });

        // Mobile menu functionality
        const mobileToggle = document.getElementById('mobileToggle');
        const mobileNav = document.getElementById('mobileNav');
        const closeNav = document.getElementById('closeNav');
        
        mobileToggle.addEventListener('click', function() {
            mobileNav.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        
        closeNav.addEventListener('click', function() {
            mobileNav.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            if (mobileNav.classList.contains('active') && 
                !mobileNav.contains(event.target) && 
                !mobileToggle.contains(event.target)) {
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
        
        // Close mobile menu when a link is clicked
        const mobileLinks = mobileNav.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', function() {
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.className = 'notification show ' + type;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Country pricing data
        const countryPricing = {
            'ng': { base: 5000, multiplier: 1.0 },
            'us': { base: 50000, multiplier: 3.5 },
            'uk': { base: 45000, multiplier: 3.2 },
            'cn': { base: 40000, multiplier: 2.8 },
            'gh': { base: 15000, multiplier: 1.5 },
            'ke': { base: 25000, multiplier: 2.0 },
            'za': { base: 35000, multiplier: 2.5 }
        };

        // Service type multipliers
        const serviceMultipliers = {
            'economy': 1.0,
            'standard': 1.5,
            'express': 2.0,
            'priority': 3.0
        };

        // Cargo type surcharges
        const cargoSurcharges = {
            'general': 0,
            'fragile': 5000,
            'perishable': 10000,
            'hazardous': 20000,
            'oversized': 15000
        };

        // Quote Calculator Functionality
        const quoteForm = document.getElementById('quoteForm');
        const priceDisplay = document.getElementById('priceDisplay');
        const originDisplay = document.getElementById('originDisplay');
        const destDisplay = document.getElementById('destDisplay');
        const weightDisplay = document.getElementById('weightDisplay');
        const volumeDisplay = document.getElementById('volumeDisplay');
        const serviceDisplay = document.getElementById('serviceDisplay');
        const authPrompt = document.getElementById('authPrompt');
        const quoteSummary = document.getElementById('quoteSummary');

        // Summary elements
        const baseRateEl = document.getElementById('baseRate');
        const weightChargeEl = document.getElementById('weightCharge');
        const volumeChargeEl = document.getElementById('volumeCharge');
        const serviceSurchargeEl = document.getElementById('serviceSurcharge');
        const cargoSurchargeEl = document.getElementById('cargoSurcharge');
        const insuranceChargeEl = document.getElementById('insuranceCharge');

        // Initially hide auth prompt and summary
        authPrompt.style.display = 'none';
        quoteSummary.style.display = 'none';

        // Auto-calculate volume when dimensions change
        function calculateVolume() {
            const length = parseFloat(document.getElementById('length').value) || 0;
            const width = parseFloat(document.getElementById('width').value) || 0;
            const height = parseFloat(document.getElementById('height').value) || 0;
            
            if (length > 0 && width > 0 && height > 0) {
                const volume = (length * width * height) / 1000000; // Convert cmÂ³ to mÂ³
                document.getElementById('volume').value = volume.toFixed(2);
            }
        }

        // Add event listeners for dimension inputs
        document.getElementById('length').addEventListener('input', calculateVolume);
        document.getElementById('width').addEventListener('input', calculateVolume);
        document.getElementById('height').addEventListener('input', calculateVolume);

        quoteForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            const weight = parseFloat(document.getElementById('weight').value) || 0;
            const volume = parseFloat(document.getElementById('volume').value) || 0;
            const service = document.getElementById('service').value;
            const cargo = document.getElementById('cargo').value;
            const value = parseFloat(document.getElementById('value').value) || 0;
            
            // Validate form
            if (!origin || !destination || !service || !cargo) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            if (weight <= 0 || volume <= 0) {
                showNotification('Weight and volume must be greater than 0', 'error');
                return;
            }
            
            // Calculate price components
            let basePrice = 0;
            let weightCharge = 0;
            let volumeCharge = 0;
            let serviceSurcharge = 0;
            let cargoSurcharge = 0;
            let insuranceCharge = 0;
            
            // Base price based on origin and destination
            if (origin === destination) {
                basePrice = countryPricing[origin].base;
            } else {
                basePrice = Math.max(
                    countryPricing[origin].base,
                    countryPricing[destination].base
                ) * 1.5;
            }
            
            // Weight charge (â‚¦150 per kg)
            weightCharge = weight * 150;
            
            // Volume charge (â‚¦8000 per mÂ³)
            volumeCharge = volume * 8000;
            
            // Apply service multiplier to base and charges
            const serviceMultiplier = serviceMultipliers[service];
            serviceSurcharge = (basePrice + weightCharge + volumeCharge) * (serviceMultiplier - 1);
            
            // Cargo type surcharge
            cargoSurcharge = cargoSurcharges[cargo];
            
            // Insurance (1% of declared value)
            if (value > 0) {
                insuranceCharge = value * 0.01;
            }
            
            // Calculate total price
            const totalPrice = basePrice + weightCharge + volumeCharge + serviceSurcharge + cargoSurcharge + insuranceCharge;
            
            // Format as currency
            const formattedPrice = 'â‚¦' + totalPrice.toLocaleString('en-NG');
            
            // Update display
            priceDisplay.textContent = formattedPrice;
            
            // Update details
            originDisplay.textContent = document.getElementById('origin').options[document.getElementById('origin').selectedIndex].text;
            destDisplay.textContent = document.getElementById('destination').options[document.getElementById('destination').selectedIndex].text;
            weightDisplay.textContent = weight + ' kg';
            volumeDisplay.textContent = volume + ' mÂ³';
            serviceDisplay.textContent = document.getElementById('service').options[document.getElementById('service').selectedIndex].text;
            
            // Update summary
            baseRateEl.textContent = 'â‚¦' + basePrice.toLocaleString('en-NG');
            weightChargeEl.textContent = 'â‚¦' + weightCharge.toLocaleString('en-NG');
            volumeChargeEl.textContent = 'â‚¦' + volumeCharge.toLocaleString('en-NG');
            serviceSurchargeEl.textContent = 'â‚¦' + serviceSurcharge.toLocaleString('en-NG');
            cargoSurchargeEl.textContent = 'â‚¦' + cargoSurcharge.toLocaleString('en-NG');
            insuranceChargeEl.textContent = 'â‚¦' + insuranceCharge.toLocaleString('en-NG');
            
            // Show auth prompt and summary
            authPrompt.style.display = 'block';
            quoteSummary.style.display = 'block';
            
            // Show success notification
            showNotification('Quote calculated successfully!');
        });

        // Check if user is logged in
        function checkUserAuth() {
            const currentUser = localStorage.getItem('velocitylog_currentUser');
            if (currentUser) {
                // Hide auth prompt if user is logged in
                authPrompt.style.display = 'none';
                
                // Add save quote button
                const saveQuoteBtn = document.createElement('button');
                saveQuoteBtn.className = 'btn btn-outline';
                saveQuoteBtn.textContent = 'Save Quote';
                saveQuoteBtn.style.width = '100%';
                saveQuoteBtn.style.marginTop = '1rem';
                
                saveQuoteBtn.addEventListener('click', function() {
                    saveQuote();
                });
                
                document.querySelector('.quote-result').appendChild(saveQuoteBtn);
            }
        }

        // Save quote function
        function saveQuote() {
            const currentUser = JSON.parse(localStorage.getItem('velocitylog_currentUser'));
            const quoteData = {
                id: 'Q' + Date.now(),
                origin: originDisplay.textContent,
                destination: destDisplay.textContent,
                weight: weightDisplay.textContent,
                volume: volumeDisplay.textContent,
                service: serviceDisplay.textContent,
                price: priceDisplay.textContent,
                date: new Date().toISOString()
            };
            
            // Get existing quotes or create new array
            const userQuotesKey = `velocitylog_quotes_${currentUser.email}`;
            let quotes = localStorage.getItem(userQuotesKey);
            
            if (!quotes) {
                quotes = [];
            } else {
                quotes = JSON.parse(quotes);
            }
            
            // Add new quote
            quotes.push(quoteData);
            
            // Save to localStorage
            localStorage.setItem(userQuotesKey, JSON.stringify(quotes));
            
            showNotification('Quote saved successfully!');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkUserAuth();
        });
    </script>
</body>
</html>